<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>SSPAI on Wsine&#39;s blog</title>
    <link>https://blog.wsine.top/tags/sspai/</link>
    <description>Recent content in SSPAI on Wsine&#39;s blog</description>
    <image>
      <url>https://blog.wsine.top/author.jpg</url>
      <link>https://blog.wsine.top/author.jpg</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright &amp;copy; 2019-Now &amp;middot; CC [BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en)</copyright>
    <lastBuildDate>Tue, 02 Jun 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.wsine.top/tags/sspai/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Windows平台下的少数派新写稿流程</title>
      <link>https://blog.wsine.top/posts/writting-for-sspai-on-windows/</link>
      <pubDate>Tue, 02 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://blog.wsine.top/posts/writting-for-sspai-on-windows/</guid>
      <description>&lt;p&gt;谈及写作，不少的用户都是使用 Mac 平台配合多样的 App 完成从写稿到发布的一条龙服务。但是在 Windows 平台上，往往需要很多手动的过程。比如，在少数派平台上，官方提供了专用的接口给 MWeb App 完成从写稿、插图、发布的完善服务，但是 MWeb App 仅在 Mac 平台上提供，Windows 用户常常因为插图图床问题困扰。&lt;/p&gt;
&lt;p&gt;最近，随着两大写作好伴侣 App 的更新，这一情况得以改善。PicGo 迎来了 v2.0 版本的大更新，剥离了核心功能同时支持 CLI 调用和 API 调用。Typora 集成了 PicGo 并提供一键上传图片服务。如果需要更详细的资料，请看这两篇文章：&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sspai.com/post/52527&#34;&gt;图床「神器」PicGo v2.0更新，插件系统终于来了&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sspai.com/post/59128&#34;&gt;Typora 支持自定义图片上传服务了&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;配合上述两大神器，是否有方法能够改善少数派平台上的写作流程，下面我就来谈谈我的方案。&lt;/p&gt;
&lt;h2 id=&#34;typora-之功能增强&#34;&gt;Typora 之功能增强&lt;/h2&gt;
&lt;p&gt;首先，从 Typora 官网上能够下载 Win / Linux / OSX 对应平台的安装文件并正确安装。&lt;/p&gt;
&lt;p&gt;然后，我们需要启用图片上传功能。点击 File -&amp;gt; Preferences -&amp;gt; Image，在 Image Upload Setting 那栏，选择 PicGo-Core (command line) ，然后点击 Download and Upgrade，即可完成安装。&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://image.wsine.top/628cb7601505f1aaf9d736a4f59f68a6.png&#34; alt=&#34;enhance&#34;  /&gt;
&lt;/p&gt;
&lt;h2 id=&#34;picgo-之少数派插件&#34;&gt;PicGo 之少数派插件&lt;/h2&gt;
&lt;p&gt;得益于 PicGo 的插件系统，我们可以为少数派平台编写插件，快捷完成图片上传到少数派的服务器。那么，如何安装少数派插件？&lt;/p&gt;
&lt;p&gt;步骤一&lt;/p&gt;
&lt;p&gt;首先我们打开 PicGo 配置文件所在的目录，你可以点击上图的 Open Config File 按钮，或者手动打开对应平台的文件夹。&lt;/p&gt;
&lt;p&gt;Windows 平台位于&lt;code&gt;C:\Users\&amp;lt;your username&amp;gt;\.picgo\&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Linux 和 OSX 平台位于`~/.picgo/``&lt;/p&gt;
&lt;p&gt;然后，克隆或下载&lt;a href=&#34;https://github.com/Wsine/picgo-plugin-sspai&#34;&gt;github.com/Wsine/picgo-plugin-sspai&lt;/a&gt;仓库到该文件夹中，注意如果从网页端下载，解压后去除多余的分支名，这很重要。&lt;/p&gt;
&lt;p&gt;步骤二&lt;/p&gt;
&lt;p&gt;在 PicGo 配置文件夹下创建&lt;code&gt;node_modules&lt;/code&gt;文件夹，并在里面创建同名快捷方式/软链接，指向刚才下载的仓库文件夹。&lt;/p&gt;
&lt;p&gt;步骤三&lt;/p&gt;
&lt;p&gt;编辑`package.json``文件，修改里面的依赖项。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;dependencies&amp;#34;&lt;/span&gt;: {
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;picgo-plugin-sspai&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;file:picgo-plugin-sspai&amp;#34;&lt;/span&gt;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;步骤四&lt;/p&gt;
&lt;p&gt;创建`package-lock.json``，内容填充如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;picgo-plugins&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;requires&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;lockfileVersion&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;dependencies&amp;#34;&lt;/span&gt;: {
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;picgo-plugin-sspai&amp;#34;&lt;/span&gt;: {
      &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;file:picgo-plugin-sspai&amp;#34;&lt;/span&gt;
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;验证&lt;/p&gt;
&lt;p&gt;最终配置文件夹中的目录结构如应如下图所示&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;~/.picgo &amp;gt; tree
.
├── config.json
├── node_modules
│   └── picgo-plugin-sspai &amp;lt;soft link&amp;gt;
├── package.json
├── package-lock.json
├── picgo.log
└── picgo-plugin-sspai
    ├── index.js
    ├── License
    ├── md5.min.js
    ├── package.json
    └── README.md
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;配置个人信息&#34;&gt;配置个人信息&lt;/h2&gt;
&lt;p&gt;打开少数派官网，登陆自己的账号，然后按F12打开开发者模式，找到 Console 选项卡，输入&lt;/p&gt;
&lt;p&gt;`document.cookie.split(&#39;; sspai_cross_token=&#39;).pop().split(&#39;;&#39;).shift()``&lt;/p&gt;
&lt;p&gt;该命令会返回一串字符串，记住该字符串，并重新在 Typora 中打开 PicGo 的配置文件，替换下面样例的 token 占位符，保存&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;picBed&amp;#34;&lt;/span&gt;: {
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;current&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sspai&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;uploader&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sspai&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;transformer&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;base64&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;sspai&amp;#34;&lt;/span&gt;: {
      &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;cross_token&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;replace here&amp;gt;&amp;#34;&lt;/span&gt;
    }
  },
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;picgoPlugins&amp;#34;&lt;/span&gt;: {
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;picgo-plugin-sspai&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;好了，至此为止，你已完成了全部的配置，那么来看看效果如何吧。&lt;/p&gt;
&lt;h2 id=&#34;样例效果&#34;&gt;样例效果&lt;/h2&gt;
&lt;p&gt;我们就以本文作为目标图片展示一下该写作流程的优化吧，通过菜单栏的 Format -&amp;gt; Image -&amp;gt; Upload All Local Images 能够一键上传该文章下面的全部图片，也可以通过右击图片的方式单张图片上传&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://image.wsine.top/4472f6471191c61072d1e54de3f941d9.gif&#34; alt=&#34;example&#34;  /&gt;
&lt;/p&gt;
&lt;p&gt;最后，打开少数派网站的编辑器，复制全文富文本格式进去，即可完成发布流程。&lt;/p&gt;
&lt;h2 id=&#34;后记&#34;&gt;后记&lt;/h2&gt;
&lt;p&gt;该插件的开发仅仅是为了方便用户在少数派平台上写作而创作。图床，一直是流量消耗的大户，目前少数派的图床仅能在 sspai.com 域名下显示，也即启用的防盗链技术，如有别的用途的用户就不用折腾啦。&lt;/p&gt;
&lt;p&gt;等后续的 Typora 更新了发布功能，我会再来优化该流程。那么，希望这个插件能帮得到大家。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
