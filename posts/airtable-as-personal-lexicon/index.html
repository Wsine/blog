<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>使用 Airtable 构建个人单词本 | Wsine's blog</title>
<meta name=keywords content="Lexicon,Solution">
<meta name=description content="词到用时方恨少，这句话说的就是第一次写论文的时候的我。口语表达需要用到的词，真的比书面表达的词少很多。但是，在平时的论文阅读的过程中，总能发现一些「陌生词」，而这些陌生词往往用得非常的巧妙，在英语语境中，是更能precisely 地表达语义。我就是一直在思考这个问题，如何才能收藏起来以便以后为我所用呢？
本文就是提出这么一个免费的解决方案，来帮助我们摘抄陌生词，形成自己的词典，并能方便地查看和温故。当然，我们的目标还是希望能够多平台覆盖和同步的，不然实用意义就变少了。
Airtable as a Database 首先要解决的第一个问题，就是如何把想要的单词摘抄并存储起来。这里，很多的单词翻译软件都有自己的单词本功能，但是同步功能基本上都是付费的功能。对我这种低频使用者而言，不太实惠。
我考虑了使用在线表格作为后端的存储，Airtable 就是这个领域的佼佼者了，并且它提供的基于 HTTP 的 API 接口方便和其他的软件交互完成存储和访问，就非常地符合我们的需求。
你需要做的准备有以下的几点：
 准备一个 Airtable 的账户，新建一个 Table，并将主 sheet 命名为 Main 根据以下的 scheme 建立表头  # Name - Field Type Query - Long text Translation - Single line text isWord - Check box Explains - Long text US-Phonetic - Single line text UK-Phonetic - Single line text Count - Number - Integer 最后，你需要获取 Airtable 相关的 API Token。  访问 https://airtable.">
<meta name=author content="Wsine">
<link rel=canonical href=https://blog.wsine.top/posts/airtable-as-personal-lexicon/>
<link href=/assets/css/stylesheet.min.746a86b58bb2b052b5e4df8216510494f04f81e62c08d626150c26c69ca929da.css integrity="sha256-dGqGtYuysFK15N+CFlEElPBPgeYsCNYmFQwmxpypKdo=" rel="preload stylesheet" as=style>
<link rel=icon href=https://blog.wsine.top/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://blog.wsine.top/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://blog.wsine.top/favicon-32x32.png>
<link rel=apple-touch-icon href=https://blog.wsine.top/apple-touch-icon.png>
<link rel=mask-icon href=https://blog.wsine.top/favicon.png>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.90.1">
<meta property="og:title" content="使用 Airtable 构建个人单词本">
<meta property="og:description" content="词到用时方恨少，这句话说的就是第一次写论文的时候的我。口语表达需要用到的词，真的比书面表达的词少很多。但是，在平时的论文阅读的过程中，总能发现一些「陌生词」，而这些陌生词往往用得非常的巧妙，在英语语境中，是更能precisely 地表达语义。我就是一直在思考这个问题，如何才能收藏起来以便以后为我所用呢？
本文就是提出这么一个免费的解决方案，来帮助我们摘抄陌生词，形成自己的词典，并能方便地查看和温故。当然，我们的目标还是希望能够多平台覆盖和同步的，不然实用意义就变少了。
Airtable as a Database 首先要解决的第一个问题，就是如何把想要的单词摘抄并存储起来。这里，很多的单词翻译软件都有自己的单词本功能，但是同步功能基本上都是付费的功能。对我这种低频使用者而言，不太实惠。
我考虑了使用在线表格作为后端的存储，Airtable 就是这个领域的佼佼者了，并且它提供的基于 HTTP 的 API 接口方便和其他的软件交互完成存储和访问，就非常地符合我们的需求。
你需要做的准备有以下的几点：
 准备一个 Airtable 的账户，新建一个 Table，并将主 sheet 命名为 Main 根据以下的 scheme 建立表头  # Name - Field Type Query - Long text Translation - Single line text isWord - Check box Explains - Long text US-Phonetic - Single line text UK-Phonetic - Single line text Count - Number - Integer 最后，你需要获取 Airtable 相关的 API Token。  访问 https://airtable.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.wsine.top/posts/airtable-as-personal-lexicon/"><meta property="og:image" content="https://blog.wsine.top/author.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-05-02T00:00:00+00:00">
<meta property="article:modified_time" content="2021-05-02T00:00:00+00:00"><meta property="og:site_name" content="Wsine's blog">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.wsine.top/author.jpg">
<meta name=twitter:title content="使用 Airtable 构建个人单词本">
<meta name=twitter:description content="词到用时方恨少，这句话说的就是第一次写论文的时候的我。口语表达需要用到的词，真的比书面表达的词少很多。但是，在平时的论文阅读的过程中，总能发现一些「陌生词」，而这些陌生词往往用得非常的巧妙，在英语语境中，是更能precisely 地表达语义。我就是一直在思考这个问题，如何才能收藏起来以便以后为我所用呢？
本文就是提出这么一个免费的解决方案，来帮助我们摘抄陌生词，形成自己的词典，并能方便地查看和温故。当然，我们的目标还是希望能够多平台覆盖和同步的，不然实用意义就变少了。
Airtable as a Database 首先要解决的第一个问题，就是如何把想要的单词摘抄并存储起来。这里，很多的单词翻译软件都有自己的单词本功能，但是同步功能基本上都是付费的功能。对我这种低频使用者而言，不太实惠。
我考虑了使用在线表格作为后端的存储，Airtable 就是这个领域的佼佼者了，并且它提供的基于 HTTP 的 API 接口方便和其他的软件交互完成存储和访问，就非常地符合我们的需求。
你需要做的准备有以下的几点：
 准备一个 Airtable 的账户，新建一个 Table，并将主 sheet 命名为 Main 根据以下的 scheme 建立表头  # Name - Field Type Query - Long text Translation - Single line text isWord - Check box Explains - Long text US-Phonetic - Single line text UK-Phonetic - Single line text Count - Number - Integer 最后，你需要获取 Airtable 相关的 API Token。  访问 https://airtable.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.wsine.top/posts/"},{"@type":"ListItem","position":2,"name":"使用 Airtable 构建个人单词本","item":"https://blog.wsine.top/posts/airtable-as-personal-lexicon/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用 Airtable 构建个人单词本","name":"使用 Airtable 构建个人单词本","description":"词到用时方恨少，这句话说的就是第一次写论文的时候的我。口语表达需要用到的词，真的比书面表达的词少很多。但是，在平时的论文阅读的过程中，总能发现一些「陌生词」，而这些陌生词往往用得非常的巧妙，在英语语境中，是更能precisely 地表达语义。我就是一直在思考这个问题，如何才能收藏起来以便以后为我所用呢？\n本文就是提出这么一个免费的解决方案，来帮助我们摘抄陌生词，形成自己的词典，并能方便地查看和温故。当然，我们的目标还是希望能够多平台覆盖和同步的，不然实用意义就变少了。\nAirtable as a Database 首先要解决的第一个问题，就是如何把想要的单词摘抄并存储起来。这里，很多的单词翻译软件都有自己的单词本功能，但是同步功能基本上都是付费的功能。对我这种低频使用者而言，不太实惠。\n我考虑了使用在线表格作为后端的存储，Airtable 就是这个领域的佼佼者了，并且它提供的基于 HTTP 的 API 接口方便和其他的软件交互完成存储和访问，就非常地符合我们的需求。\n你需要做的准备有以下的几点：\n 准备一个 Airtable 的账户，新建一个 Table，并将主 sheet 命名为 Main 根据以下的 scheme 建立表头  # Name - Field Type Query - Long text Translation - Single line text isWord - Check box Explains - Long text US-Phonetic - Single line text UK-Phonetic - Single line text Count - Number - Integer 最后，你需要获取 Airtable 相关的 API Token。  访问 https://airtable.","keywords":["Lexicon","Solution"],"articleBody":"词到用时方恨少，这句话说的就是第一次写论文的时候的我。口语表达需要用到的词，真的比书面表达的词少很多。但是，在平时的论文阅读的过程中，总能发现一些「陌生词」，而这些陌生词往往用得非常的巧妙，在英语语境中，是更能precisely 地表达语义。我就是一直在思考这个问题，如何才能收藏起来以便以后为我所用呢？\n本文就是提出这么一个免费的解决方案，来帮助我们摘抄陌生词，形成自己的词典，并能方便地查看和温故。当然，我们的目标还是希望能够多平台覆盖和同步的，不然实用意义就变少了。\nAirtable as a Database 首先要解决的第一个问题，就是如何把想要的单词摘抄并存储起来。这里，很多的单词翻译软件都有自己的单词本功能，但是同步功能基本上都是付费的功能。对我这种低频使用者而言，不太实惠。\n我考虑了使用在线表格作为后端的存储，Airtable 就是这个领域的佼佼者了，并且它提供的基于 HTTP 的 API 接口方便和其他的软件交互完成存储和访问，就非常地符合我们的需求。\n你需要做的准备有以下的几点：\n 准备一个 Airtable 的账户，新建一个 Table，并将主 sheet 命名为 Main 根据以下的 scheme 建立表头  # Name - Field Type Query - Long text Translation - Single line text isWord - Check box Explains - Long text US-Phonetic - Single line text UK-Phonetic - Single line text Count - Number - Integer 最后，你需要获取 Airtable 相关的 API Token。  访问 https://airtable.com/api，点击对应的 Table，选择左侧的 AUTHENTICATION，点击右上角的 show API key，你就能找到对应的  和 。\n(可选) 在 Airtable 里增加 Gallery View，制作你自己的单词卡片，点击 Share View 可获取访问链接  Youdao as a Translator 当选择了「陌生词」后，我们需要做的是存储它原词的同时，存储其对应的中文翻译。当然，这个版本也可以离线完成，通过 Airtable Automation 或者 Serverless Function 可以做到。但是前者需要付费订阅 Pro，后者使得平台更复杂化了。后来实际考虑，其实这个也放在本地完成就是可以的，从某种程度上来说也更简单一些。\n首先，要做的获取有道智云 AI 开放平台的接口密钥。你需要访问：https://ai.youdao.com/doc.s#guide ，根据上述的指南注册开发者账号并获取密钥，上述官方有详细的图解步骤，我在这里就不重复了。关于价格，有道云文本翻译服务是48元/百万字符，每月调用量清零。换句话说，每月100万字符以下翻译免费，对于我们翻译几个单词来说，实在是绰绰有余。更详细的价格可以参考官方定价文档。\n最终你获得的有两个关键的字符串： and your app scret, 这里的 app 指的是有道智云 AI 开放平台上面的一个实例。\nJSBox as a Client 好了，万事俱备，只欠东风。接下来，就是通过 HTTP 接口，把「陌生词」存储到 Airtable 中。\n这里，由于选择了本地调用有道云的接口，因此需要比较复杂的 JS 代码才能构建出 API 访问的参数，否则其实可以使用更轻量级的 捷径app 来完成这样的动作的。所以，我终于不得不选择 JSBox 作为 Client 调用接口。对于读者来说的好消息是，JSBox 免费下载且 1.x 版本的功能免费且我们只需要用到 1.x 版本的功能。对于我来说，我开发这个 workflow 专门买了JSBox，—_—\n关于调用的代码，我已经全部开源并放到这个 Gist 里面了，文末我也放置了一份相同的作为附录，以便不方便访问 Gist 的读者们访问。\n在 JSBox 里面，选择 New Project，名称可以自定义，Type 选择 JSBox script 即可，把开源的代码粘贴到里面，并替换其中的对应的密钥即可。\n- 你的有道云应用ID - 你的有道云应用密钥 - 你的Airtable的表格ID - 你的Airtable的API Token 为了在调用菜单里简化一级跳转逻辑，我们还需要借助 捷径APP 调用 JSBox\nWorkflow Demo 由于我阅读论文的设备是 iPad，因此这里用 iPad 做个演示。在你喜欢的论文阅读软件中选中相应的单词/短语，通过系统分享菜单选择对应的捷径。\n对应的 Gallery View 的单词卡效果是这样子的，而且对响应式网站有适配，写论文的时候它给了我很大的帮助。\n理论上，这个 worflow 也支持句子摘抄和翻译，新增一个 Gallery View 和 Filtering 就可以，只不过我没有这个需求而已。\n好了，以上就是全部的内容。感谢阅读。\n附录 lexicon.js\nconst CryptoJS = require(\"crypto-js\") function uuidv4() { return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) { var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r \u0026 0x3 | 0x8); return v.toString(16); }); } var entrance = null var query = null if ($context.text) { query = $context.text entrance = 'jsbox' } else if (Object.keys($context.query).length) { query = $context.query.word entrance = 'shortcut' } else { console.log('Please execute via share sheet') $context.close() $app.close() } console.log('query', query) const appkey = '' const salt = uuidv4() console.log('salt:', salt) const curtime = (Math.round(new Date().getTime() / 1000)).toString() console.log('curtime:', curtime) const appsecret = '' var input = query if (query \u0026\u0026 query.length  20) { input = query.slice(0, 10) + query.length + query.slice(query.length - 10, query.length) } console.log('input:', input) var concat = appkey + input + salt + curtime + appsecret console.log('concat:', concat) const sign = CryptoJS.SHA256(concat).toString() console.log('sign:', sign) var formData = { q: query, from: 'en', to: 'zh-CHS', appKey: appkey, salt: salt, sign: sign, signType: 'v3', curtime: curtime, strict: 'true' } if (query) { $http.post({ url: \"https://openapi.youdao.com/api\", form: formData, handler: function (resp) { var ydreq = resp.data console.log(ydreq) var field = { Query: ydreq['query'], Translation: ydreq['translation'].join('\\n'), isWord: ydreq['isWord'], Count: 1 } if (ydreq['isWord']) { field['Explains'] = ydreq['basic']['explains'].join('\\n') field['US-Phonetic'] = ydreq['basic']['us-phonetic'] field['UK-Phonetic'] = ydreq['basic']['uk-phonetic'] } $http.post({ url: \"https://api.airtable.com/v0//Main\", header: { 'Authorization': 'Bearer ', 'Content-Type': 'application/json' }, body: { records: [{ fields: field }] }, handler: function(resp) { var atreq = resp.data console.log(atreq) var display = 'Created: ' + atreq.records[0].id if (entrance === 'shortcut') { $intents.finish(display) } else if (entrance === 'jsbox') { $ui.preview({ title: \"AirTable API Response\", text: display }); } } }); } }) } ","wordCount":"486","inLanguage":"en","datePublished":"2021-05-02T00:00:00Z","dateModified":"2021-05-02T00:00:00Z","author":{"@type":"Person","name":"Wsine"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.wsine.top/posts/airtable-as-personal-lexicon/"},"publisher":{"@type":"Organization","name":"Wsine's blog","logo":{"@type":"ImageObject","url":"https://blog.wsine.top/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.wsine.top/ accesskey=h title="Wsine's blog (Alt + H)">Wsine's blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://blog.wsine.top/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://blog.wsine.top/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://blog.wsine.top/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li></ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
使用 Airtable 构建个人单词本
</h1>
<div class=post-meta>
2021, May 2&nbsp;·&nbsp;Wsine
|&nbsp;<a href=https://github.com/Wsine/blog/blob/master/content/posts/airtable-as-personal-lexicon.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner><ul><li>
<a href=#airtable-as-a-database aria-label="Airtable as a Database">Airtable as a Database</a></li><li>
<a href=#youdao-as-a-translator aria-label="Youdao as a Translator">Youdao as a Translator</a></li><li>
<a href=#jsbox-as-a-client aria-label="JSBox as a Client">JSBox as a Client</a></li><li>
<a href=#workflow-demo aria-label="Workflow Demo">Workflow Demo</a></li><li>
<a href=#%e9%99%84%e5%bd%95 aria-label=附录>附录</a></li></ul>
</div>
</details>
</div>
<div class=post-content>
<p>词到用时方恨少，这句话说的就是第一次写论文的时候的我。口语表达需要用到的词，真的比书面表达的词少很多。但是，在平时的论文阅读的过程中，总能发现一些「陌生词」，而这些陌生词往往用得非常的巧妙，在英语语境中，是更能precisely 地表达语义。我就是一直在思考这个问题，如何才能收藏起来以便以后为我所用呢？</p>
<p>本文就是提出这么一个免费的解决方案，来帮助我们摘抄陌生词，形成自己的词典，并能方便地查看和温故。当然，我们的目标还是希望能够多平台覆盖和同步的，不然实用意义就变少了。</p>
<h2 id=airtable-as-a-database>Airtable as a Database<a hidden class=anchor aria-hidden=true href=#airtable-as-a-database>#</a></h2>
<p>首先要解决的第一个问题，就是如何把想要的单词摘抄并存储起来。这里，很多的单词翻译软件都有自己的单词本功能，但是同步功能基本上都是付费的功能。对我这种低频使用者而言，不太实惠。</p>
<p>我考虑了使用在线表格作为后端的存储，Airtable 就是这个领域的佼佼者了，并且它提供的基于 HTTP 的 API 接口方便和其他的软件交互完成存储和访问，就非常地符合我们的需求。</p>
<p>你需要做的准备有以下的几点：</p>
<ol>
<li>准备一个 Airtable 的账户，新建一个 Table，并将主 sheet 命名为 Main</li>
<li>根据以下的 scheme 建立表头</li>
</ol>
<pre tabindex=0><code># Name - Field Type
Query - Long text
Translation - Single line text
isWord - Check box
Explains - Long text
US-Phonetic - Single line text
UK-Phonetic - Single line text
Count - Number - Integer
</code></pre><ol start=3>
<li>最后，你需要获取 Airtable 相关的 API Token。</li>
</ol>
<p>访问 <a href=https://airtable.com/api>https://airtable.com/api</a>，点击对应的 Table，选择左侧的 AUTHENTICATION，点击右上角的 show API key，你就能找到对应的 <code>&lt;your table id></code> 和 <code>&lt;your app token></code>。</p>
<p><img loading=lazy src=https://image.wsine.top/be43f6cae2b8bfe861c079839a5e484f.png alt=image-20210418170007299>
</p>
<ol start=4>
<li>(可选) 在 Airtable 里增加 Gallery View，制作你自己的单词卡片，点击 Share View 可获取访问链接</li>
</ol>
<h2 id=youdao-as-a-translator>Youdao as a Translator<a hidden class=anchor aria-hidden=true href=#youdao-as-a-translator>#</a></h2>
<p>当选择了「陌生词」后，我们需要做的是存储它原词的同时，存储其对应的中文翻译。当然，这个版本也可以离线完成，通过 Airtable Automation 或者 Serverless Function 可以做到。但是前者需要付费订阅 Pro，后者使得平台更复杂化了。后来实际考虑，其实这个也放在本地完成就是可以的，从某种程度上来说也更简单一些。</p>
<p>首先，要做的获取有道智云 AI 开放平台的接口密钥。你需要访问：https://ai.youdao.com/doc.s#guide ，根据上述的指南注册开发者账号并获取密钥，上述官方有详细的图解步骤，我在这里就不重复了。关于价格，有道云文本翻译服务是48元/百万字符，每月调用量清零。换句话说，每月100万字符以下翻译免费，对于我们翻译几个单词来说，实在是绰绰有余。更详细的价格可以参考<a href=https://ai.youdao.com/DOCSIRMA/html/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E7%BF%BB%E8%AF%91/%E4%BA%A7%E5%93%81%E5%AE%9A%E4%BB%B7/%E6%96%87%E6%9C%AC%E7%BF%BB%E8%AF%91%E6%9C%8D%E5%8A%A1/%E6%96%87%E6%9C%AC%E7%BF%BB%E8%AF%91%E6%9C%8D%E5%8A%A1-%E4%BA%A7%E5%93%81%E5%AE%9A%E4%BB%B7.html>官方定价文档</a>。</p>
<p>最终你获得的有两个关键的字符串：<code>&lt;your app key></code> and <code>your app scret</code>, 这里的 app 指的是有道智云 AI 开放平台上面的一个实例。</p>
<p><img loading=lazy src=https://image.wsine.top/4a795606d3a43f92ce84c18e620967ed.png alt=image-20210418163029079>
</p>
<h2 id=jsbox-as-a-client>JSBox as a Client<a hidden class=anchor aria-hidden=true href=#jsbox-as-a-client>#</a></h2>
<p>好了，万事俱备，只欠东风。接下来，就是通过 HTTP 接口，把「陌生词」存储到 Airtable 中。</p>
<p>这里，由于选择了本地调用有道云的接口，因此需要比较复杂的 JS 代码才能构建出 API 访问的参数，否则其实可以使用更轻量级的 捷径app 来完成这样的动作的。所以，我终于不得不选择 JSBox 作为 Client 调用接口。对于读者来说的好消息是，JSBox 免费下载且 1.x 版本的功能免费且我们只需要用到 1.x 版本的功能。对于我来说，我开发这个 workflow 专门买了JSBox，—_—</p>
<p>关于调用的代码，我已经全部开源并放到这个 <a href=https://gist.github.com/Wsine/4d68c4c0a06cc9219a79fc9d169b07ab>Gist</a> 里面了，文末我也放置了一份相同的作为附录，以便不方便访问 Gist 的读者们访问。</p>
<p>在 JSBox 里面，选择 New Project，名称可以自定义，Type 选择 JSBox script 即可，把开源的代码粘贴到里面，并替换其中的对应的密钥即可。</p>
<pre tabindex=0><code>&lt;your app key&gt; -&gt; 你的有道云应用ID
&lt;your app secret&gt; -&gt; 你的有道云应用密钥
&lt;your table id&gt; -&gt; 你的Airtable的表格ID
&lt;your app token&gt; -&gt; 你的Airtable的API Token
</code></pre><p>为了在调用菜单里简化一级跳转逻辑，我们还需要借助 捷径APP 调用 JSBox</p>
<p><img loading=lazy src=https://image.wsine.top/4b9f5491dfbe2b491043598ba06d2a4f.jpeg alt=IMG_67ECF7225B1E-1>
</p>
<h2 id=workflow-demo>Workflow Demo<a hidden class=anchor aria-hidden=true href=#workflow-demo>#</a></h2>
<p>由于我阅读论文的设备是 iPad，因此这里用 iPad 做个演示。在你喜欢的论文阅读软件中选中相应的单词/短语，通过系统分享菜单选择对应的捷径。</p>
<p><img loading=lazy src=https://image.wsine.top/73fbf90a6725cf9bb97918582be0d916.gif alt=ezgif-3-a15650ace542>
</p>
<p>对应的 Gallery View 的单词卡效果是这样子的，而且对响应式网站有适配，写论文的时候它给了我很大的帮助。</p>
<p><img loading=lazy src=https://image.wsine.top/2f2fd4042d29293dd78df86a9653b11c.png alt=image-20210418173436005>
</p>
<p>理论上，这个 worflow 也支持句子摘抄和翻译，新增一个 Gallery View 和 Filtering 就可以，只不过我没有这个需求而已。</p>
<p>好了，以上就是全部的内容。感谢阅读。</p>
<h2 id=附录>附录<a hidden class=anchor aria-hidden=true href=#附录>#</a></h2>
<p><a href=https://gist.github.com/Wsine/4d68c4c0a06cc9219a79fc9d169b07ab#file-lexicon-js><strong>lexicon.js</strong></a></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CryptoJS</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;crypto-js&#34;</span>)

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>uuidv4</span>() {
  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&#39;</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>/[xy]/g</span>, <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>c</span>) {
    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>16</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;x&#39;</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>:</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0x3</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>0x8</span>);
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>v</span>.<span style=color:#a6e22e>toString</span>(<span style=color:#ae81ff>16</span>);
  });
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>entrance</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>
<span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>$context</span>.<span style=color:#a6e22e>text</span>) {
  <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$context</span>.<span style=color:#a6e22e>text</span>
  <span style=color:#a6e22e>entrance</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;jsbox&#39;</span>
} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>keys</span>(<span style=color:#a6e22e>$context</span>.<span style=color:#a6e22e>query</span>).<span style=color:#a6e22e>length</span>) {
  <span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$context</span>.<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>word</span>
  <span style=color:#a6e22e>entrance</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;shortcut&#39;</span>
} <span style=color:#66d9ef>else</span> {
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Please execute via share sheet&#39;</span>)
  <span style=color:#a6e22e>$context</span>.<span style=color:#a6e22e>close</span>()
  <span style=color:#a6e22e>$app</span>.<span style=color:#a6e22e>close</span>()
}
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;query&#39;</span>, <span style=color:#a6e22e>query</span>)

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>appkey</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;your app key&gt;&#39;</span>
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>salt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uuidv4</span>()
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;salt:&#39;</span>, <span style=color:#a6e22e>salt</span>)
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>curtime</span> <span style=color:#f92672>=</span> (Math.<span style=color:#a6e22e>round</span>(<span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>getTime</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>)).<span style=color:#a6e22e>toString</span>()
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;curtime:&#39;</span>, <span style=color:#a6e22e>curtime</span>)
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>appsecret</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&lt;your app secret&gt;&#39;</span>
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>input</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>
<span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>20</span>) {
  <span style=color:#a6e22e>input</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>length</span>)
}
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;input:&#39;</span>, <span style=color:#a6e22e>input</span>)
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>concat</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>appkey</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>input</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>salt</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>curtime</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>appsecret</span>
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;concat:&#39;</span>, <span style=color:#a6e22e>concat</span>)
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sign</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>CryptoJS</span>.<span style=color:#a6e22e>SHA256</span>(<span style=color:#a6e22e>concat</span>).<span style=color:#a6e22e>toString</span>()
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;sign:&#39;</span>, <span style=color:#a6e22e>sign</span>)

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>formData</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>q</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>query</span>,
  <span style=color:#a6e22e>from</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;en&#39;</span>,
  <span style=color:#a6e22e>to</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;zh-CHS&#39;</span>,
  <span style=color:#a6e22e>appKey</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>appkey</span>,
  <span style=color:#a6e22e>salt</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>salt</span>,
  <span style=color:#a6e22e>sign</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>sign</span>,
  <span style=color:#a6e22e>signType</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;v3&#39;</span>,
  <span style=color:#a6e22e>curtime</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>curtime</span>,
  <span style=color:#a6e22e>strict</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;true&#39;</span>
}

<span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>) {
  <span style=color:#a6e22e>$http</span>.<span style=color:#a6e22e>post</span>({
    <span style=color:#a6e22e>url</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://openapi.youdao.com/api&#34;</span>,
    <span style=color:#a6e22e>form</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>formData</span>,
    <span style=color:#a6e22e>handler</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>resp</span>) {
      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ydreq</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>ydreq</span>)
      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>field</span> <span style=color:#f92672>=</span> {
        <span style=color:#a6e22e>Query</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;query&#39;</span>],
        <span style=color:#a6e22e>Translation</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;translation&#39;</span>].<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;\n&#39;</span>),
        <span style=color:#a6e22e>isWord</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;isWord&#39;</span>],
        <span style=color:#a6e22e>Count</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>
      }
      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;isWord&#39;</span>]) {
        <span style=color:#a6e22e>field</span>[<span style=color:#e6db74>&#39;Explains&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;basic&#39;</span>][<span style=color:#e6db74>&#39;explains&#39;</span>].<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;\n&#39;</span>)
        <span style=color:#a6e22e>field</span>[<span style=color:#e6db74>&#39;US-Phonetic&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;basic&#39;</span>][<span style=color:#e6db74>&#39;us-phonetic&#39;</span>]
        <span style=color:#a6e22e>field</span>[<span style=color:#e6db74>&#39;UK-Phonetic&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>ydreq</span>[<span style=color:#e6db74>&#39;basic&#39;</span>][<span style=color:#e6db74>&#39;uk-phonetic&#39;</span>]
      }
      <span style=color:#a6e22e>$http</span>.<span style=color:#a6e22e>post</span>({
        <span style=color:#a6e22e>url</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://api.airtable.com/v0/&lt;your table id&gt;/Main&#34;</span>,
        <span style=color:#a6e22e>header</span><span style=color:#f92672>:</span> {
          <span style=color:#e6db74>&#39;Authorization&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Bearer &lt;your app token&gt;&#39;</span>,
          <span style=color:#e6db74>&#39;Content-Type&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;application/json&#39;</span>
        },
        <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> {
          <span style=color:#a6e22e>records</span><span style=color:#f92672>:</span> [{
            <span style=color:#a6e22e>fields</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>field</span>
          }]
        },
        <span style=color:#a6e22e>handler</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>resp</span>) {
          <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>atreq</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>data</span>
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>atreq</span>)
          <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>display</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Created: &#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>atreq</span>.<span style=color:#a6e22e>records</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>id</span>
          <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>entrance</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;shortcut&#39;</span>) {
            <span style=color:#a6e22e>$intents</span>.<span style=color:#a6e22e>finish</span>(<span style=color:#a6e22e>display</span>)
          } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>entrance</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;jsbox&#39;</span>) {
            <span style=color:#a6e22e>$ui</span>.<span style=color:#a6e22e>preview</span>({
              <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;AirTable API Response&#34;</span>,
              <span style=color:#a6e22e>text</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>display</span>
            });
          }
        }
      });
    }
  })
}
</code></pre></div>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://blog.wsine.top/tags/lexicon/>Lexicon</a></li>
<li><a href=https://blog.wsine.top/tags/solution/>Solution</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://blog.wsine.top/posts/manage-your-dotfiles-with-yadm/>
<span class=title>« Prev Page</span>
<br>
<span>使用 YADM 整理你的 dotfiles</span>
</a>
<a class=next href=https://blog.wsine.top/posts/improve-mood-under-covid19/>
<span class=title>Next Page »</span>
<br>
<span>疫情之下提升心情的方法</span>
</a>
</nav>
</footer>
</article>
</main><footer class=footer>
<span>Copyright © 2019-Now · CC <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en>BY-NC-SA 4.0</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>