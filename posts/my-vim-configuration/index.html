<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>我的Vim配置 | Wsine's blog</title>
<meta name=keywords content="Solution,Vim">
<meta name=description content="今天来分享一下我对于Vim的一下配置和心得">
<meta name=author content="Wsine">
<link rel=canonical href=https://blog.wsine.top/posts/my-vim-configuration/>
<link href=/assets/css/stylesheet.min.746a86b58bb2b052b5e4df8216510494f04f81e62c08d626150c26c69ca929da.css integrity="sha256-dGqGtYuysFK15N+CFlEElPBPgeYsCNYmFQwmxpypKdo=" rel="preload stylesheet" as=style>
<link rel=icon href=https://blog.wsine.top/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://blog.wsine.top/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://blog.wsine.top/favicon-32x32.png>
<link rel=apple-touch-icon href=https://blog.wsine.top/apple-touch-icon.png>
<link rel=mask-icon href=https://blog.wsine.top/favicon.png>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.0">
<meta property="og:title" content="我的Vim配置">
<meta property="og:description" content="今天来分享一下我对于Vim的一下配置和心得">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.wsine.top/posts/my-vim-configuration/"><meta property="og:image" content="https://blog.wsine.top/author.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-07-23T00:00:00+00:00">
<meta property="article:modified_time" content="2019-07-23T00:00:00+00:00"><meta property="og:site_name" content="Wsine's blog">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.wsine.top/author.jpg">
<meta name=twitter:title content="我的Vim配置">
<meta name=twitter:description content="今天来分享一下我对于Vim的一下配置和心得">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.wsine.top/posts/"},{"@type":"ListItem","position":2,"name":"我的Vim配置","item":"https://blog.wsine.top/posts/my-vim-configuration/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"我的Vim配置","name":"我的Vim配置","description":"今天来分享一下我对于Vim的一下配置和心得","keywords":["Solution","Vim"],"articleBody":"前言 为什么选择vim？ 曾经我也是一个小白，使用Dev-C++来学习C++语言，使用Visual Studio开发工程，它们都被称为IDE(Integrated development environment)。但是，逐渐的，我渐渐意识到，你只能遵循它制定的一系列的流程来开发程序，自定义程度不高，而且大型的IDE消耗计算资源严重。\n后来，我认识到了编辑和编译应该是一个分开的过程，便转战到了文本编辑器，选择Sublime Text。Sublime优秀的UI界面，优秀的快捷键，拥有插件系统，着实让我着迷。它的初始环境便可直接上手，它的默认配色Monokai让人看得很舒服。\n但是，离开Sublime选择Vim的原因有三点，一是Sublime依赖于图形化界面，二是Sublime移动光标需要移动右手使用方向键，三是Sublime编辑远程文件要么借助工具要么经常传输。至此，我终于理解了那个古老的梗。\n 世界上只有三种程序员，一种是使用Vim的，一种是使用Emacs的，还有一种是其他\n 而这篇博文也是放置于效率分类下\n*加个小彩蛋：*我实验室的Boss爱用Emacs，我们互视为异教徒，我说“你的手指会变形的”，他说“程序员谁的手指不变形”，我“……[冷漠]”\n如何学习Vim 我的观点是，自己一行一行写自己的配置文件才会深入学会Vim。如果一开始就用配置好的，那和直接使用IDE没有太大的差别。知道配置文件每一行干了些什么，不懂就搜，想加功能想改功能就动手，最后这就是一份你的配置文件。相信每个Vim大牛都是这样做的。同样的，我的Vim配置也会不断更新，可能会持续n年也不一定。而这也是为什么我的文章标题起名如此。\n原则 我的Vim配置有一定的原则，遵循原则才会让配置不会超出自己的控制\n 插件能用轻量级的就不用复杂的 非需要的功能不会添加 尽量消耗更少的资源 配色一定不能忍 尽可能的做到一键配置  正文 配色 说得多还不如先看看总体的配色，配色我采用了vim自带的desert主题，在这个基础上加了一点自定义\n从左往右说起好了，左侧我添加了一个目录树，使用的是scrooloose/nerdtree的插件，并且绑定了q来启动和隐藏目录树，使用起来还是蛮方便的\n中间的配色我刻意挑了一个黑色的主题。我不喜欢那种惨淡的白色，函数名和命名空间是白色就和变量名看起来没有区分度了，因此搜了好久，找到了octol/vim-cpp-enhanced-highlight插件能满足这个需求，修改了一下它的颜色。弹出菜单的颜色我也自己修改了。颜色都采用了暗色调的color，确保不会刺眼，同时也能将不同的元素区分出来。set t_Co=256 \" Enable status bar color很重要。\n顶部和底部采用的是比较出名的vim-airline/vim-airline插件，以及其相应的vim-airline/vim-airline-themes，主题我选择了let g:airline_theme='luna'，并且启用了powerline字体，也就是你能看到的三角形符号\n因为还在不断的修改中，未来可能会考虑把配色做成插件易于安装吧，目前的安装方式比较麻烦\n管理 插件管理上我选用了Vundle，目前一款比较流行的Vim插件管理器，基本上我只使用github上的vim插件\n按键 一直以来我对于那种秀配置不讲按键绑定的文章比较反感，除非你一个键都没改\n   模式 按键 映射 功能 说明     全局 , leader  leader键是vim中的一个特殊键   正常 j gj 下一行 视觉上往下移动(行太长导致分行时)   正常 k gk 上一行 视觉上往上移动(行太长导致分行时)   正常 w :w 快速保存 没有权限保存的时候也是不行的   正常 q :bd:q 快速退出 前提所有buffer都保存了，防止意外   正常 K :bnext 切换到右边的buffer 仿照Vimuim的标签切换   正常 J :bprevious 切换到左边的buffer 仿照Vimuim的标签切换   正常 bn :enew 新开一个buffer buffer new   正常 bd :bd 关闭当前buffer buffer delete   正常 空格键 smooth_scroll 向下平滑滚动 避免思维跳跃，仿照Chrome的设定   正常 减号键 smooth_scroll 向上平滑滚动 避免思维跳跃   编辑 Ctrl + b 方向键-左 向左移动一个字符 仿照Bash的控制方式   编辑 Ctrl + f 方向键-右 向右移动一个字符 仿照Bash的控制方式   编辑 Ctrl + e Home键 跳到行首 仿照Bash的控制方式   编辑 Ctrl + a End键 跳到行尾 仿照Bash的控制方式   编辑 Tab键 方向键-下 选择下一个候选词 可连续按   编辑 Esc键 Ctrl + 回车 清除菜单 无   可视化 // y/\" 快速搜索 需要先选择内容    其实可以看出我是比较喜欢统一各大软件的按键方式的，主要是可以让自己不用记忆太多，快捷键是效率的主要生产力，所以终端、编辑器、浏览器这三大离不开的软件，我都会尽可能地去统一它们的按键\n上面提到的平滑滚动我使用了lucasicf/vim-smooth-scroll的插件，其实这个插件来自出名的terryma之手，但是如果连续平滑滚动，会连续触发导致控制卡死。而lucasicf修复了这个bug并发送了PR，不知道为什么terryma大神一直没有理=。=\n还有，我想要仿照Chrome使用Shift + 空格键来平滑向上滚动，然后我尝试了很多种方法，并不能捕获Shift + Space的状态，如果有大神能做到求教\n括号匹配 Vim毕竟是写代码的利器，自动补全括号特别实用且重要，这里我简单的使用了一个插件jiangmiao/auto-pairs\n多光标编辑 在Sublime中唯一让我留念的就是多光标编辑了，作为被这个装逼大法宠坏的我，没有它感觉断了一臂。多亏了terryma大神将这一功能移植到了vim中，据说，这还是大神在一次航班途中写出来的，我只能打出666并默默地比了一个❤~\n插件名称terryma/vim-multiple-cursors。在Visual模式下选中所需要改的内容，按Ctrl + n可以选中下一个，然后按下c进入编辑状态，编辑完，Esc，完美\n快速打开文件 Sublime还有一个功能是Ctrl + p可以打开文件，这一方式同样也有插件在vim中ctrlpvim/ctrlp.vim。更重要的是，该插件同样支持模糊搜索。\n快速注释 scrooloose/nerdcommenter是一个优秀的插件，默认的注释方式是c，可以在注释和非注释直接切换。同时，配合Ctrl + v的块选择，能够快速选中自己想要注释的行，然后c快速批量注释\n自动补全 在自动补全的领域下，最好的无疑是YouCompleteMe插件了，然而我并没有使用。首先该插件的调用程序太多，消耗资源太多，安装也麻烦，一次安装终身受用这种借口不能作为不简化安装的理由。其次，语义化补全对我来说没有太大的需求，只需要能把变量和函数提示并补全就好了\n而Vim在新版中已经原生添加了自动补全的功能。利用按下Ctrl + x, Ctrl + o触发， Ctrl + n, Ctrl + p选择菜单。但是这样未免太麻烦不优雅，我利用了一款插件vim-scripts/AutoComplPop，它能够自动弹出补全菜单，使用起来效果还不错。不过它偶尔有一些小bug，我自己还能忍，如果你不喜欢再寻求一款更好的自动补全吧\n格式控制 在格式控制的范畴下，我将制表符都转义成了空格，并且在保存的时候自动把行尾的空格都去掉了，这是符合优秀编码规范的格式，希望还是能保持。\n有一点，很多人没注意到的，Git管理的文件建议保留文件末尾的一个空行，特意提一下，我没有加入到vim自动添加空行，因为不是所有的文件都被Git管理，无端的空行可能会导致一些未知的错误。所有建议手动添加。\n其他 假设你都理解了vim的基础操作，其他的一些配置我也有相应的注释，参考了http://amix.dk/vim/vimrc.html，不愧是被誉为教科书般的vim配置，真是优秀。\n阅读.vimrc文件，能开拓你很多的思路，希望能找到你喜欢的\n安装 参照https://github.com/VundleVim/Vundle.vim，下载Vundle管理器到指定目录\n将对应的文件放置在你的家目录~下\n~ ├── .vimrc └── .vim ├── bundle │ └── Vundle.vim └── colors └── desert.vim .vimrc文件下载 desert.vim文件下载\n打开Vim，使用:PluginInstall即可\n配置文件 \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Vundle \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" set nocompatible \" be iMproved, required filetype off \" required \" set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() \" let Vundle manage Vundle, required Plugin 'VundleVim/Vundle.vim' Plugin 'jiangmiao/auto-pairs' Plugin 'scrooloose/nerdtree' Plugin 'ctrlpvim/ctrlp.vim' \" Plugin 'terryma/vim-smooth-scroll' Plugin 'lucasicf/vim-smooth-scroll' Plugin 'vim-scripts/AutoComplPop' Plugin 'terryma/vim-multiple-cursors' Plugin 'scrooloose/nerdcommenter' Plugin 'vim-airline/vim-airline' Plugin 'vim-airline/vim-airline-themes' Plugin 'octol/vim-cpp-enhanced-highlight' Plugin 'vim-python/python-syntax' \" All of your Plugins must be added before the following line call vundle#end() \" required filetype plugin indent on \" required \" Put your non-Plugin stuff after this line \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = General \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Sets how many lines of history VIM has to remember set history=700 \" Set to auto read when a file is changed from the outside set autoread \" ignore case when searching unless exists one upper case set ignorecase set smartcase \" Realtime searching set incsearch \" hight light searching set hlsearch \" No annoying sound on errors set noerrorbells set novisualbell set t_vb= set tm=500 \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = VIM user interface \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Set 7 lines to the cursor - when moving vertically using j/k set so=7 \" Turn on the WiLd menu set wildmenu \" Ignore compiled files set wildignore=*.o,*~,*.pyc \"Always show number set number \"Always show current position set ruler \" Height of the command bar set cmdheight=2 \" A buffer becomes hidden when it is abandoned set hid \" Configure backspace so it acts as it should act set backspace=eol,start,indent set whichwrap+=,h,l \" Set cmd show set showcmd \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Colors and Fonts \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Enable syntax highlighting syntax enable \" Set colorscheme set background=dark colorscheme desert \" Set utf8 as standard encoding and en_US as the standard language set encoding=utf8 \" Use Unix as the standard file type set ffs=unix,dos,mac \" Enable status bar color set t_Co=256 \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Files, backups and undo \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Turn backup off, since most stuff is in SVN, git et.c anyway... set nobackup set nowb set noswapfile \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Text, tab and indent related \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Use spaces instead of tabs set expandtab \" Be smart when using tabs ;) set smarttab \" 1 tab == 4 spaces set shiftwidth=4 set tabstop=4 \" Linebreak on 500 characters set lbr set tw=500 \" Intelligence indent set ai \"Auto indent set si \"Smart indent set wrap \"Wrap lines \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Moving around, tabs, windows and buffers \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Return to last edit position when opening files (You want this!) autocmd BufReadPost * \\ if line(\"'\\\"\")  0 \u0026\u0026 line(\"'\\\"\") Status line \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Always show the status line set laststatus=2 \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Editing mappings \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" With a map leader it's possible to do extra key combinations \" like w saves the current file let mapleader = \",\" let g:mapleader = \",\" \" Toggle paste mode set pastetoggle=p \" Treat long lines as break lines (useful when moving around in them) map j gj map k gk \" Fast saving nmap w :w \" Fast quit nmap q :bufdo bd:q \" Fast open file tree map t :NERDTreeToggle \" Fast Tab use noremap  K :bnext noremap  J :bprevious noremap  bn :enew noremap   bd \\ len(filter(range(1, bufnr('$')), 'buflisted(v:val)')) = 2 ? \\ \":bp\\|bd #\" : \":bd\" \" Smooth page scroll nnoremap  = :call smooth_scroll#down(\u0026scroll, 25, 2) nnoremap  - :call smooth_scroll#up(\u0026scroll, 25, 2) nnoremap   :call smooth_scroll#down(\u0026scroll, 25, 2) \" Move in insert mode imap   imap   imap   imap   imap  w imap  b \" Clear highlight color nnoremap  :noh nnoremap ^[ ^[ \" Popup menu select inoremap    pumvisible() ? \"\\\" : \"\\\" inoremap    pumvisible() ? \"\\\" : \"\\\" \" Visual Mode Search vnoremap // y/\" \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Function, Command \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" Delete trailing white space on save, useful for Python and CoffeeScript ;) func! DeleteTrailingWS() exe \"normal mz\" %s/\\s\\+$//ge exe \"normal `z\" endfunc autocmd BufWrite * :call DeleteTrailingWS() \" Auto open file tree if enter a directory autocmd StdinReadPre * let s:std_in=1 autocmd VimEnter * if argc() == 1 \u0026\u0026 isdirectory(argv()[0]) \u0026\u0026 !exists(\"s:std_in\") | exe 'NERDTree' argv()[0] | wincmd p | ene | endif \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" = Plugin Setting \"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\" \" NERDcommenter let g:NERDSpaceDelims=1 let g:NERDCommentEmptyLines=1 let g:NERDDefaultAlign='left' \" Vim Airline themes let g:airline_theme='luna' let g:airline_powerline_fonts=1 let g:airline#extensions#tabline#enabled=1 \" Vim Cpp Highlight let g:cpp_class_scope_highlight=1 let g:cpp_member_variable_highlight=1 let g:cpp_experimental_simple_template_highlight=1 let g:cpp_concepts_highlight=1 \" Vim Python Highlight let python_highlight_all=1 ","wordCount":"973","inLanguage":"en","datePublished":"2019-07-23T00:00:00Z","dateModified":"2019-07-23T00:00:00Z","author":{"@type":"Person","name":"Wsine"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.wsine.top/posts/my-vim-configuration/"},"publisher":{"@type":"Organization","name":"Wsine's blog","logo":{"@type":"ImageObject","url":"https://blog.wsine.top/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.wsine.top/ accesskey=h title="Wsine's blog (Alt + H)">Wsine's blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://blog.wsine.top/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://blog.wsine.top/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://blog.wsine.top/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li></ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
我的Vim配置
</h1>
<div class=post-description>
今天来分享一下我对于Vim的一下配置和心得
</div>
<div class=post-meta>
2019, July 23&nbsp;·&nbsp;Wsine
|&nbsp;<a href=https://github.com/Wsine/blog/blob/master/content/posts/my-vim-configuration.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner><ul><li>
<a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a><ul>
<ul>
<li>
<a href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e9%80%89%e6%8b%a9vim aria-label=为什么选择vim？>为什么选择vim？</a></li><li>
<a href=#%e5%a6%82%e4%bd%95%e5%ad%a6%e4%b9%a0vim aria-label=如何学习Vim>如何学习Vim</a></li></ul>
</ul>
</li><li>
<a href=#%e5%8e%9f%e5%88%99 aria-label=原则>原则</a></li><li>
<a href=#%e6%ad%a3%e6%96%87 aria-label=正文>正文</a><ul>
<ul>
<li>
<a href=#%e9%85%8d%e8%89%b2 aria-label=配色>配色</a></li><li>
<a href=#%e7%ae%a1%e7%90%86 aria-label=管理>管理</a></li><li>
<a href=#%e6%8c%89%e9%94%ae aria-label=按键>按键</a></li><li>
<a href=#%e6%8b%ac%e5%8f%b7%e5%8c%b9%e9%85%8d aria-label=括号匹配>括号匹配</a></li><li>
<a href=#%e5%a4%9a%e5%85%89%e6%a0%87%e7%bc%96%e8%be%91 aria-label=多光标编辑>多光标编辑</a></li><li>
<a href=#%e5%bf%ab%e9%80%9f%e6%89%93%e5%bc%80%e6%96%87%e4%bb%b6 aria-label=快速打开文件>快速打开文件</a></li><li>
<a href=#%e5%bf%ab%e9%80%9f%e6%b3%a8%e9%87%8a aria-label=快速注释>快速注释</a></li><li>
<a href=#%e8%87%aa%e5%8a%a8%e8%a1%a5%e5%85%a8 aria-label=自动补全>自动补全</a></li><li>
<a href=#%e6%a0%bc%e5%bc%8f%e6%8e%a7%e5%88%b6 aria-label=格式控制>格式控制</a></li><li>
<a href=#%e5%85%b6%e4%bb%96 aria-label=其他>其他</a></li></ul>
</ul>
</li><li>
<a href=#%e5%ae%89%e8%a3%85 aria-label=安装>安装</a></li><li>
<a href=#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 aria-label=配置文件>配置文件</a></li></ul>
</div>
</details>
</div>
<div class=post-content>
<h2 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2>
<h4 id=为什么选择vim>为什么选择vim？<a hidden class=anchor aria-hidden=true href=#为什么选择vim>#</a></h4>
<p>曾经我也是一个小白，使用Dev-C++来学习C++语言，使用Visual Studio开发工程，它们都被称为IDE(Integrated development environment)。但是，逐渐的，我渐渐意识到，你只能遵循它制定的一系列的流程来开发程序，自定义程度不高，而且大型的IDE消耗计算资源严重。</p>
<p>后来，我认识到了编辑和编译应该是一个分开的过程，便转战到了文本编辑器，选择Sublime Text。Sublime优秀的UI界面，优秀的快捷键，拥有插件系统，着实让我着迷。它的初始环境便可直接上手，它的默认配色Monokai让人看得很舒服。</p>
<p>但是，离开Sublime选择Vim的原因有三点，一是Sublime依赖于图形化界面，二是Sublime移动光标需要移动右手使用方向键，三是Sublime编辑远程文件要么借助工具要么经常传输。至此，我终于理解了那个古老的梗。</p>
<blockquote>
<p>世界上只有三种程序员，一种是使用Vim的，一种是使用Emacs的，还有一种是其他</p>
</blockquote>
<p>而这篇博文也是放置于效率分类下</p>
<p>*加个小彩蛋：*我实验室的Boss爱用Emacs，我们互视为异教徒，我说“你的手指会变形的”，他说“程序员谁的手指不变形”，我“&mldr;&mldr;[冷漠]”</p>
<h4 id=如何学习vim>如何学习Vim<a hidden class=anchor aria-hidden=true href=#如何学习vim>#</a></h4>
<p>我的观点是，自己一行一行写自己的配置文件才会深入学会Vim。如果一开始就用配置好的，那和直接使用IDE没有太大的差别。知道配置文件每一行干了些什么，不懂就搜，想加功能想改功能就动手，最后这就是一份<strong>你的配置文件</strong>。相信每个Vim大牛都是这样做的。同样的，我的Vim配置也会不断更新，可能会持续n年也不一定。而这也是为什么我的文章标题起名如此。</p>
<h2 id=原则>原则<a hidden class=anchor aria-hidden=true href=#原则>#</a></h2>
<p>我的Vim配置有一定的原则，遵循原则才会让配置不会超出自己的控制</p>
<ol>
<li>插件能用轻量级的就不用复杂的</li>
<li>非需要的功能不会添加</li>
<li>尽量消耗更少的资源</li>
<li>配色一定不能忍</li>
<li>尽可能的做到一键配置</li>
</ol>
<h2 id=正文>正文<a hidden class=anchor aria-hidden=true href=#正文>#</a></h2>
<h4 id=配色>配色<a hidden class=anchor aria-hidden=true href=#配色>#</a></h4>
<p>说得多还不如先看看总体的配色，配色我采用了vim自带的desert主题，在这个基础上加了一点自定义</p>
<p><img loading=lazy src=https://image.wsine.top/468539c3f437335584ebdfa2f8c4aa34.png alt=配色图>
</p>
<p>从左往右说起好了，左侧我添加了一个目录树，使用的是<code>scrooloose/nerdtree</code>的插件，并且绑定了<code>&lt;leader>q</code>来启动和隐藏目录树，使用起来还是蛮方便的</p>
<p>中间的配色我刻意挑了一个黑色的主题。我不喜欢那种惨淡的白色，函数名和命名空间是白色就和变量名看起来没有区分度了，因此搜了好久，找到了<code>octol/vim-cpp-enhanced-highlight</code>插件能满足这个需求，修改了一下它的颜色。弹出菜单的颜色我也自己修改了。颜色都采用了暗色调的color，确保不会刺眼，同时也能将不同的元素区分出来。<code>set t_Co=256 " Enable status bar color</code>很重要。</p>
<p>顶部和底部采用的是比较出名的<code>vim-airline/vim-airline</code>插件，以及其相应的<code>vim-airline/vim-airline-themes</code>，主题我选择了<code>let g:airline_theme='luna'</code>，并且启用了powerline字体，也就是你能看到的三角形符号</p>
<p>因为还在不断的修改中，未来可能会考虑把配色做成插件易于安装吧，目前的安装方式比较麻烦</p>
<h4 id=管理>管理<a hidden class=anchor aria-hidden=true href=#管理>#</a></h4>
<p>插件管理上我选用了Vundle，目前一款比较流行的Vim插件管理器，基本上我只使用github上的vim插件</p>
<p><img loading=lazy src=https://image.wsine.top/fe535df15cf240c8bc5474da7fcf1b28.png alt=插件列表>
</p>
<h4 id=按键>按键<a hidden class=anchor aria-hidden=true href=#按键>#</a></h4>
<p>一直以来我对于那种秀配置不讲按键绑定的文章比较反感，除非你一个键都没改</p>
<table>
<thead>
<tr>
<th style=text-align:center>模式</th>
<th style=text-align:center>按键</th>
<th style=text-align:center>映射</th>
<th>功能</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:center>全局</td>
<td style=text-align:center><code>,</code></td>
<td style=text-align:center><code>leader</code></td>
<td><code>&lt;leader></code></td>
<td>leader键是vim中的一个特殊键</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>j</code></td>
<td style=text-align:center><code>gj</code></td>
<td>下一行</td>
<td>视觉上往下移动(行太长导致分行时)</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>k</code></td>
<td style=text-align:center><code>gk</code></td>
<td>上一行</td>
<td>视觉上往上移动(行太长导致分行时)</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>&lt;leader>w</code></td>
<td style=text-align:center><code>:w&lt;CR></code></td>
<td>快速保存</td>
<td>没有权限保存的时候也是不行的</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>&lt;leader>q</code></td>
<td style=text-align:center><code>:bd&lt;CR>:q&lt;CR></code></td>
<td>快速退出</td>
<td>前提所有buffer都保存了，防止意外</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>K</code></td>
<td style=text-align:center><code>:bnext&lt;CR></code></td>
<td>切换到右边的buffer</td>
<td>仿照Vimuim的标签切换</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>J</code></td>
<td style=text-align:center><code>:bprevious&lt;CR></code></td>
<td>切换到左边的buffer</td>
<td>仿照Vimuim的标签切换</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>&lt;leader>bn</code></td>
<td style=text-align:center><code>:enew&lt;CR></code></td>
<td>新开一个buffer</td>
<td>buffer new</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>&lt;leader>bd</code></td>
<td style=text-align:center><code>:bd&lt;CR></code></td>
<td>关闭当前buffer</td>
<td>buffer delete</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>空格键</code></td>
<td style=text-align:center><code>smooth_scroll</code></td>
<td>向下平滑滚动</td>
<td>避免思维跳跃，仿照Chrome的设定</td>
</tr>
<tr>
<td style=text-align:center>正常</td>
<td style=text-align:center><code>减号键</code></td>
<td style=text-align:center><code>smooth_scroll</code></td>
<td>向上平滑滚动</td>
<td>避免思维跳跃</td>
</tr>
<tr>
<td style=text-align:center>编辑</td>
<td style=text-align:center><code>Ctrl + b</code></td>
<td style=text-align:center><code>方向键-左</code></td>
<td>向左移动一个字符</td>
<td>仿照Bash的控制方式</td>
</tr>
<tr>
<td style=text-align:center>编辑</td>
<td style=text-align:center><code>Ctrl + f</code></td>
<td style=text-align:center><code>方向键-右</code></td>
<td>向右移动一个字符</td>
<td>仿照Bash的控制方式</td>
</tr>
<tr>
<td style=text-align:center>编辑</td>
<td style=text-align:center><code>Ctrl + e</code></td>
<td style=text-align:center><code>Home键</code></td>
<td>跳到行首</td>
<td>仿照Bash的控制方式</td>
</tr>
<tr>
<td style=text-align:center>编辑</td>
<td style=text-align:center><code>Ctrl + a</code></td>
<td style=text-align:center><code>End键</code></td>
<td>跳到行尾</td>
<td>仿照Bash的控制方式</td>
</tr>
<tr>
<td style=text-align:center>编辑</td>
<td style=text-align:center><code>Tab键</code></td>
<td style=text-align:center><code>方向键-下</code></td>
<td>选择下一个候选词</td>
<td>可连续按</td>
</tr>
<tr>
<td style=text-align:center>编辑</td>
<td style=text-align:center><code>Esc键</code></td>
<td style=text-align:center><code>Ctrl + 回车</code></td>
<td>清除菜单</td>
<td>无</td>
</tr>
<tr>
<td style=text-align:center>可视化</td>
<td style=text-align:center><code>//</code></td>
<td style=text-align:center><code>y/&lt;C-R>"&lt;CR></code></td>
<td>快速搜索</td>
<td>需要先选择内容</td>
</tr>
</tbody>
</table>
<p>其实可以看出我是比较喜欢统一各大软件的按键方式的，主要是可以让自己不用记忆太多，快捷键是效率的主要生产力，所以终端、编辑器、浏览器这三大离不开的软件，我都会尽可能地去统一它们的按键</p>
<p>上面提到的平滑滚动我使用了<code>lucasicf/vim-smooth-scroll</code>的插件，其实这个插件来自出名的<code>terryma</code>之手，但是如果连续平滑滚动，会连续触发导致控制卡死。而<code>lucasicf</code>修复了这个bug并发送了PR，不知道为什么<code>terryma</code>大神一直没有理=。=</p>
<p>还有，我想要仿照Chrome使用Shift + 空格键来平滑向上滚动，然后我尝试了很多种方法，并不能捕获<code>Shift + Space</code>的状态，如果有大神能做到求教</p>
<h4 id=括号匹配>括号匹配<a hidden class=anchor aria-hidden=true href=#括号匹配>#</a></h4>
<p>Vim毕竟是写代码的利器，自动补全括号特别实用且重要，这里我简单的使用了一个插件<code>jiangmiao/auto-pairs</code></p>
<h4 id=多光标编辑>多光标编辑<a hidden class=anchor aria-hidden=true href=#多光标编辑>#</a></h4>
<p>在Sublime中唯一让我留念的就是多光标编辑了，作为被这个装逼大法宠坏的我，没有它感觉断了一臂。多亏了terryma大神将这一功能移植到了vim中，据说，这还是大神在一次航班途中写出来的，我只能打出666并默默地比了一个❤~</p>
<p>插件名称<code>terryma/vim-multiple-cursors</code>。在Visual模式下选中所需要改的内容，按Ctrl + n可以选中下一个，然后按下c进入编辑状态，编辑完，Esc，完美</p>
<h4 id=快速打开文件>快速打开文件<a hidden class=anchor aria-hidden=true href=#快速打开文件>#</a></h4>
<p>Sublime还有一个功能是Ctrl + p可以打开文件，这一方式同样也有插件在vim中<code>ctrlpvim/ctrlp.vim</code>。更重要的是，该插件同样支持模糊搜索。</p>
<h4 id=快速注释>快速注释<a hidden class=anchor aria-hidden=true href=#快速注释>#</a></h4>
<p><code>scrooloose/nerdcommenter</code>是一个优秀的插件，默认的注释方式是<code>&lt;leader>c&lt;Space></code>，可以在注释和非注释直接切换。同时，配合Ctrl + v的块选择，能够快速选中自己想要注释的行，然后<code>&lt;leader>c&lt;Space></code>快速批量注释</p>
<h4 id=自动补全>自动补全<a hidden class=anchor aria-hidden=true href=#自动补全>#</a></h4>
<p>在自动补全的领域下，最好的无疑是<code>YouCompleteMe</code>插件了，然而我并没有使用。首先该插件的调用程序太多，消耗资源太多，安装也麻烦，一次安装终身受用这种借口不能作为不简化安装的理由。其次，语义化补全对我来说没有太大的需求，只需要能把变量和函数提示并补全就好了</p>
<p>而Vim在新版中已经原生添加了自动补全的功能。利用按下Ctrl + x, Ctrl + o触发， Ctrl + n, Ctrl + p选择菜单。但是这样未免太麻烦不优雅，我利用了一款插件<code>vim-scripts/AutoComplPop</code>，它能够自动弹出补全菜单，使用起来效果还不错。不过它偶尔有一些小bug，我自己还能忍，如果你不喜欢再寻求一款更好的自动补全吧</p>
<h4 id=格式控制>格式控制<a hidden class=anchor aria-hidden=true href=#格式控制>#</a></h4>
<p>在格式控制的范畴下，我将制表符都转义成了空格，并且在保存的时候自动把行尾的空格都去掉了，这是符合优秀编码规范的格式，希望还是能保持。</p>
<p>有一点，很多人没注意到的，Git管理的文件建议保留文件末尾的一个空行，特意提一下，我没有加入到vim自动添加空行，因为不是所有的文件都被Git管理，无端的空行可能会导致一些未知的错误。所有建议手动添加。</p>
<h4 id=其他>其他<a hidden class=anchor aria-hidden=true href=#其他>#</a></h4>
<p>假设你都理解了vim的基础操作，其他的一些配置我也有相应的注释，参考了http://amix.dk/vim/vimrc.html，不愧是被誉为教科书般的vim配置，真是优秀。</p>
<p>阅读.vimrc文件，能开拓你很多的思路，希望能找到你喜欢的</p>
<h2 id=安装>安装<a hidden class=anchor aria-hidden=true href=#安装>#</a></h2>
<p>参照https://github.com/VundleVim/Vundle.vim，下载Vundle管理器到指定目录</p>
<p>将对应的文件放置在你的家目录<code>~</code>下</p>
<pre tabindex=0><code>~
├── .vimrc
└── .vim
     ├── bundle
     │   └── Vundle.vim
     └── colors
         └── desert.vim
</code></pre><p><a href=https://github.com/Wsine/Backup/blob/master/vim/.vimrc>.vimrc文件下载</a>
<a href=https://github.com/Wsine/Backup/blob/master/vim/desert.vim>desert.vim文件下载</a></p>
<p>打开Vim，使用<code>:PluginInstall</code>即可</p>
<h2 id=配置文件>配置文件<a hidden class=anchor aria-hidden=true href=#配置文件>#</a></h2>
<pre tabindex=0><code>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Vundle
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
set nocompatible              &quot; be iMproved, required
filetype off                  &quot; required

&quot; set the runtime path to include Vundle and initialize
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

&quot; let Vundle manage Vundle, required
Plugin 'VundleVim/Vundle.vim'

Plugin 'jiangmiao/auto-pairs'
Plugin 'scrooloose/nerdtree'
Plugin 'ctrlpvim/ctrlp.vim'
&quot; Plugin 'terryma/vim-smooth-scroll'
Plugin 'lucasicf/vim-smooth-scroll'
Plugin 'vim-scripts/AutoComplPop'
Plugin 'terryma/vim-multiple-cursors'
Plugin 'scrooloose/nerdcommenter'
Plugin 'vim-airline/vim-airline'
Plugin 'vim-airline/vim-airline-themes'
Plugin 'octol/vim-cpp-enhanced-highlight'
Plugin 'vim-python/python-syntax'
&quot; All of your Plugins must be added before the following line
call vundle#end()            &quot; required
filetype plugin indent on    &quot; required
&quot; Put your non-Plugin stuff after this line

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; General
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Sets how many lines of history VIM has to remember
set history=700

&quot; Set to auto read when a file is changed from the outside
set autoread

&quot; ignore case when searching unless exists one upper case
set ignorecase
set smartcase

&quot; Realtime searching
set incsearch

&quot; hight light searching
set hlsearch

&quot; No annoying sound on errors
set noerrorbells
set novisualbell
set t_vb=
set tm=500

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; VIM user interface
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Set 7 lines to the cursor - when moving vertically using j/k
set so=7

&quot; Turn on the WiLd menu
set wildmenu

&quot; Ignore compiled files
set wildignore=*.o,*~,*.pyc

&quot;Always show number
set number

&quot;Always show current position
set ruler

&quot; Height of the command bar
set cmdheight=2

&quot; A buffer becomes hidden when it is abandoned
set hid

&quot; Configure backspace so it acts as it should act
set backspace=eol,start,indent
set whichwrap+=&lt;,&gt;,h,l

&quot; Set cmd show
set showcmd

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Colors and Fonts
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Enable syntax highlighting
syntax enable

&quot; Set colorscheme
set background=dark
colorscheme desert

&quot; Set utf8 as standard encoding and en_US as the standard language
set encoding=utf8

&quot; Use Unix as the standard file type
set ffs=unix,dos,mac

&quot; Enable status bar color
set t_Co=256

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Files, backups and undo
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Turn backup off, since most stuff is in SVN, git et.c anyway...
set nobackup
set nowb
set noswapfile

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Text, tab and indent related
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Use spaces instead of tabs
set expandtab

&quot; Be smart when using tabs ;)
set smarttab

&quot; 1 tab == 4 spaces
set shiftwidth=4
set tabstop=4

&quot; Linebreak on 500 characters
set lbr
set tw=500

&quot; Intelligence indent
set ai &quot;Auto indent
set si &quot;Smart indent
set wrap &quot;Wrap lines

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Moving around, tabs, windows and buffers
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Return to last edit position when opening files (You want this!)
autocmd BufReadPost *
     \ if line(&quot;'\&quot;&quot;) &gt; 0 &amp;&amp; line(&quot;'\&quot;&quot;) &lt;= line(&quot;$&quot;) |
     \   exe &quot;normal! g`\&quot;&quot; |
     \ endif
&quot; Remember info about open buffers on close
set viminfo^=%

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Status line
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Always show the status line
set laststatus=2

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Editing mappings
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; With a map leader it's possible to do extra key combinations
&quot; like &lt;leader&gt;w saves the current file
let mapleader = &quot;,&quot;
let g:mapleader = &quot;,&quot;

&quot; Toggle paste mode
set pastetoggle=&lt;leader&gt;p

&quot; Treat long lines as break lines (useful when moving around in them)
map j gj
map k gk

&quot; Fast saving
nmap &lt;leader&gt;w :w&lt;CR&gt;

&quot; Fast quit
nmap &lt;leader&gt;q :bufdo bd&lt;CR&gt;:q&lt;CR&gt;

&quot; Fast open file tree
map &lt;leader&gt;t :NERDTreeToggle&lt;CR&gt;

&quot; Fast Tab use
noremap &lt;silent&gt; K :bnext&lt;CR&gt;
noremap &lt;silent&gt; J :bprevious&lt;CR&gt;
noremap &lt;silent&gt; &lt;leader&gt;bn :enew&lt;CR&gt;
noremap &lt;silent&gt; &lt;expr&gt; &lt;leader&gt;bd
    \ len(filter(range(1, bufnr('$')), 'buflisted(v:val)')) &gt;= 2 ?
    \ &quot;:bp\|bd #&lt;CR&gt;&quot; : &quot;:bd&lt;CR&gt;&quot;

&quot; Smooth page scroll
nnoremap &lt;silent&gt; = :call smooth_scroll#down(&amp;scroll, 25, 2)&lt;CR&gt;
nnoremap &lt;silent&gt; - :call smooth_scroll#up(&amp;scroll, 25, 2)&lt;CR&gt;
nnoremap &lt;silent&gt; &lt;Space&gt; :call smooth_scroll#down(&amp;scroll, 25, 2)&lt;CR&gt;

&quot; Move in insert mode
imap &lt;C-b&gt; &lt;Left&gt;
imap &lt;C-f&gt; &lt;Right&gt;
imap &lt;C-e&gt; &lt;End&gt;
imap &lt;C-a&gt; &lt;Home&gt;
imap &lt;M-f&gt; &lt;C-o&gt;w
imap &lt;M-b&gt; &lt;C-o&gt;b

&quot; Clear highlight color
nnoremap &lt;Esc&gt; :noh&lt;Return&gt;&lt;Esc&gt;
nnoremap &lt;Esc&gt;^[ &lt;Esc&gt;^[

&quot; Popup menu select
inoremap &lt;silent&gt; &lt;expr&gt; &lt;Tab&gt; pumvisible() ? &quot;\&lt;Down&gt;&quot; : &quot;\&lt;Tab&gt;&quot;
inoremap &lt;silent&gt; &lt;expr&gt; &lt;ESC&gt; pumvisible() ? &quot;\&lt;C-E&gt;&quot; : &quot;\&lt;ESC&gt;&quot;

&quot; Visual Mode Search
vnoremap // y/&lt;C-R&gt;&quot;&lt;CR&gt;

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Function, Command
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; Delete trailing white space on save, useful for Python and CoffeeScript ;)
func! DeleteTrailingWS()
    exe &quot;normal mz&quot;
    %s/\s\+$//ge
    exe &quot;normal `z&quot;
endfunc
autocmd BufWrite * :call DeleteTrailingWS()

&quot; Auto open file tree if enter a directory
autocmd StdinReadPre * let s:std_in=1
autocmd VimEnter * if argc() == 1 &amp;&amp; isdirectory(argv()[0]) &amp;&amp; !exists(&quot;s:std_in&quot;) | exe 'NERDTree' argv()[0] | wincmd p | ene | endif

&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; =&gt; Plugin Setting
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
&quot; NERDcommenter
let g:NERDSpaceDelims=1
let g:NERDCommentEmptyLines=1
let g:NERDDefaultAlign='left'

&quot; Vim Airline themes
let g:airline_theme='luna'
let g:airline_powerline_fonts=1
let g:airline#extensions#tabline#enabled=1

&quot; Vim Cpp Highlight
let g:cpp_class_scope_highlight=1
let g:cpp_member_variable_highlight=1
let g:cpp_experimental_simple_template_highlight=1
let g:cpp_concepts_highlight=1

&quot; Vim Python Highlight
let python_highlight_all=1
</code></pre>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://blog.wsine.top/tags/solution/>Solution</a></li>
<li><a href=https://blog.wsine.top/tags/vim/>Vim</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://blog.wsine.top/posts/switch-tv-mode/>
<span class=title>« Prev Page</span>
<br>
<span>Switch移动TV模式杂谈</span>
</a>
<a class=next href=https://blog.wsine.top/posts/personal-blog-writting-solution/>
<span class=title>Next Page »</span>
<br>
<span>个人博客的方案推荐，你只负责编写</span>
</a>
</nav>
</footer>
</article>
</main><footer class=footer>
<span>Copyright © 2019-Now · CC <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en>BY-NC-SA 4.0</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>